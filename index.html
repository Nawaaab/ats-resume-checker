<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Free ATS Resume Checker | Upload PDF or Word</title>
<meta name="description" content="Upload your resume PDF or Word file and check ATS score against job description. Free AI resume optimization tool.">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- PDF & DOCX libraries -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.16.105/pdf.min.js"></script>
<script src="https://unpkg.com/mammoth/mammoth.browser.min.js"></script>

<style>
body { font-family: Arial; background:#f7f7f7; }
.container { max-width:900px; background:#fff; margin:auto; padding:20px; }
textarea, input[type=file] { width:100%; margin-bottom:15px; }
button { width:100%; padding:14px; background:#0a66c2; color:#fff; border:none; font-size:16px; }
.result { display:none; margin-top:20px; padding:20px; }
.green { color:green; }
.orange { color:orange; }
.red { color:red; }
</style>
</head>

<body>
<div class="container">

<h1>Free ATS Resume Checker</h1>
<p>Upload your resume and paste job description to check ATS alignment.</p>

<h3>Upload Resume (PDF or Word)</h3>
<input type="file" id="resumeFile" accept=".pdf,.docx">

<h3>Job Description / KPIs</h3>
<textarea id="jobDesc" placeholder="Paste job description here..."></textarea>

<button onclick="analyzeResume()">Check ATS Score</button>

<div class="result" id="result">
  <h2>ATS Score</h2>
  <h1 id="score"></h1>

  <h3>Recommendations</h3>
  <ul id="suggestions"></ul>
</div>

</div>

<script>
let resumeText = "";

async function analyzeResume() {
  const file = document.getElementById("resumeFile").files[0];
  const jobDesc = document.getElementById("jobDesc").value.toLowerCase();

  if (!file || jobDesc.length < 50) {
    alert("Upload resume and paste full job description.");
    return;
  }

  if (file.type === "application/pdf") {
    resumeText = await readPDF(file);
  } else {
    resumeText = await readDOCX(file);
  }

  calculateATS(resumeText.toLowerCase(), jobDesc);
}

async function readPDF(file) {
  const buffer = await file.arrayBuffer();
  const pdf = await pdfjsLib.getDocument({data: buffer}).promise;
  let text = "";

  for (let i = 1; i <= pdf.numPages; i++) {
    const page = await pdf.getPage(i);
    const content = await page.getTextContent();
    content.items.forEach(item => text += item.str + " ");
  }
  return text;
}

async function readDOCX(file) {
  const buffer = await file.arrayBuffer();
  const result = await mammoth.extractRawText({arrayBuffer: buffer});
  return result.value;
}

function calculateATS(resume, job) {
  const jobWords = [...new Set(job.match(/\b[a-z]{3,}\b/g))];
  let matched = jobWords.filter(word => resume.includes(word));

  let score = Math.min(100, Math.round((matched.length / jobWords.length) * 100));

  let scoreEl = document.getElementById("score");
  scoreEl.innerText = score + "%";

  scoreEl.className =
    score >= 70 ? "green" :
    score >= 50 ? "orange" : "red";

  const suggestions = document.getElementById("suggestions");
  suggestions.innerHTML = "";

  if (score < 70) {
    matched.slice(0,5).forEach(k => {
      let li = document.createElement("li");
      li.innerText = `Add or strengthen keyword: "${k}"`;
      suggestions.appendChild(li);
    });

    let li2 = document.createElement("li");
    li2.innerText = "Align your skills and experience sections closely to job KPIs.";
    suggestions.appendChild(li2);
  } else {
    let li = document.createElement("li");
    li.innerText = "Your resume is well aligned with the job description.";
    suggestions.appendChild(li);
  }

  document.getElementById("result").style.display = "block";
}
</script>

</body>
</html>


